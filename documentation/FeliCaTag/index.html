<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRETNFCKit - FeliCaTag</title>
    <link rel="stylesheet" type="text/css" href="/documentation/all.css" media="all" />
</head>
<body>
    <header>
        <a href="/documentation/">
            <strong>
                TRETNFCKit
            </strong>
            <span>Documentation</span>
        </a>
        <sup>Beta</sup>
    </header>

    <!--
    <form class="search">
        <input type="search" placeholder="Search" />
    </form>
    -->

    <nav>
        <div class="wrapper">
            <h2>On This Page</h2>
            <ol><li><a href="#properties">Properties</a><ul><li class="variable"><a href="#felicatag.currentsystemcode">current​System​Code</a></li><li class="variable"><a href="#felicatag.currentidm">current​IDm</a></li></ul></li><li><a href="#methods">Methods</a><ul><li class="function"><a href="#felicatag.polling(systemcode:requestcode:timeslot:resulthandler:)">polling(system​Code:​request​Code:​time​Slot:​result​Handler:​)</a></li><li class="function"><a href="#felicatag.polling(systemcode:requestcode:timeslot:completionhandler:)">polling(system​Code:​request​Code:​time​Slot:​completion​Handler:​)</a></li><li class="function"><a href="#felicatag.readwithoutencryption(servicecodelist:blocklist:resulthandler:)">read​Without​Encryption(service​Code​List:​block​List:​result​Handler:​)</a></li><li class="function"><a href="#felicatag.readwithoutencryption(servicecodelist:blocklist:completionhandler:)">read​Without​Encryption(service​Code​List:​block​List:​completion​Handler:​)</a></li><li class="function"><a href="#felicatag.writewithoutencryption(servicecodelist:blocklist:blockdata:resulthandler:)">write​Without​Encryption(service​Code​List:​block​List:​block​Data:​result​Handler:​)</a></li><li class="function"><a href="#felicatag.writewithoutencryption(servicecodelist:blocklist:blockdata:completionhandler:)">write​Without​Encryption(service​Code​List:​block​List:​block​Data:​completion​Handler:​)</a></li><li class="function"><a href="#felicatag.requestresponse(resulthandler:)">request​Response(result​Handler:​)</a></li><li class="function"><a href="#felicatag.requestresponse(completionhandler:)">request​Response(completion​Handler:​)</a></li><li class="function"><a href="#felicatag.requestservice(nodecodelist:resulthandler:)">request​Service(node​Code​List:​result​Handler:​)</a></li><li class="function"><a href="#felicatag.requestservice(nodecodelist:completionhandler:)">request​Service(node​Code​List:​completion​Handler:​)</a></li><li class="function"><a href="#felicatag.requestservicev2(nodecodelist:resulthandler:)">request​Service​V2(node​Code​List:​result​Handler:​)</a></li><li class="function"><a href="#felicatag.requestservicev2(nodecodelist:completionhandler:)">request​Service​V2(node​Code​List:​completion​Handler:​)</a></li><li class="function"><a href="#felicatag.requestspecificationversion(resulthandler:)">request​Specification​Version(result​Handler:​)</a></li><li class="function"><a href="#felicatag.requestspecificationversion(completionhandler:)">request​Specification​Version(completion​Handler:​)</a></li><li class="function"><a href="#felicatag.requestsystemcode(resulthandler:)">request​System​Code(result​Handler:​)</a></li><li class="function"><a href="#felicatag.requestsystemcode(completionhandler:)">request​System​Code(completion​Handler:​)</a></li><li class="function"><a href="#felicatag.resetmode(resulthandler:)">reset​Mode(result​Handler:​)</a></li><li class="function"><a href="#felicatag.resetmode(completionhandler:)">reset​Mode(completion​Handler:​)</a></li><li class="function"><a href="#felicatag.sendfelicacommand(commandpacket:resulthandler:)">send​Feli​CaCommand(command​Packet:​result​Handler:​)</a></li><li class="function"><a href="#felicatag.sendfelicacommand(commandpacket:completionhandler:)">send​Feli​CaCommand(command​Packet:​completion​Handler:​)</a></li></ul></li></ol>
        </div>
    </nav>

    <main>
        <article>
            <h1>
    <small>Structure</small>
    <code class="name">Feli​CaTag</code>
</h1>

<div class="declaration">
<pre class="highlight"><code><span class="keyword">public</span> <span class="keyword">struct</span> <span class="type">FeliCaTag</span> </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>An interface for interacting with a FeliCa™ tag.</p>

</div>
<div class="discussion">
    <p>FeliCa is a trademark of Sony Corporation.</p>

</div>

    <section id="properties">
        <h2>Properties</h2>

        <div role="article" class="variable" id="felicatag.currentsystemcode">
    <h3>
        <code>current​System​Code</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(<span class="keyword">iOS</span> <span class="number literal">13.0</span>, *)
    <span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">currentSystemCode</span>: <span class="type">Data</span> </code></pre>
</div>
</div>
<div role="article" class="variable" id="felicatag.currentidm">
    <h3>
        <code>current​IDm</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(<span class="keyword">iOS</span> <span class="number literal">13.0</span>, *)
    <span class="keyword">public</span> <span class="keyword">var</span> <span class="variable">currentIDm</span>: <span class="type">Data</span> </code></pre>
</div>
</div>
    </section>
    <section id="methods">
        <h2>Methods</h2>

        <div role="article" class="function" id="felicatag.polling(systemcode:requestcode:timeslot:resulthandler:)">
    <h3>
        <code>polling(system​Code:​request​Code:​time​Slot:​result​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(<span class="keyword">iOS</span> <span class="number literal">13.0</span>, *) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">watchOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">tvOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macCatalyst</span>, <span class="variable">unavailable</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">polling</span>(<span class="variable">systemCode</span>: <span class="type">Data</span>, <span class="variable">requestCode</span>: <span class="type">FeliCaPollingRequestCode</span>, <span class="variable">timeSlot</span>: <span class="type">FeliCaPollingTimeSlot</span>, <span class="variable">resultHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Result</span>&lt;<span class="type">FeliCaPollingResponse</span>, <span class="type">Error</span>&gt;) -&gt; <span class="type">Void</span>) </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Sends the Polling command as defined by FeliCa card specification to the tag.</p>

</div>
<div class="discussion">
    <p>System code must be one of the provided values in the &quot;com.apple.developer.nfc.readersession.felica.systemcodes&quot; in the Info.plist; <code>NFCReaderErrorSecurityViolation</code> will be returned when an invalid system code is used. Polling with wildcard value in the upper or lower byte is not supported.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>system​Code</th>
    <td><code class="type">Data</code></td>
    <td><p>Designation of System Code. Wildcard value (<code>0xFF</code>) in the upper or the lower byte is not supported.</p>
</td>
</tr>
<tr>
    <th>request​Code</th>
    <td><code class="type">Feli​CaPolling​Request​Code</code></td>
    <td><p>Designation of Requset Data output.</p>
</td>
</tr>
<tr>
    <th>time​Slot</th>
    <td><code class="type">Feli​CaPolling​Time​Slot</code></td>
    <td><p>Maximum number of slots possible to respond.</p>
</td>
</tr>
<tr>
    <th>result​Handler</th>
    <td><code class="type">@escaping (Result&lt;Feli​CaPolling​Response, Error&gt;) -&gt; Void</code></td>
    <td><p>Returns <code>FeliCaPollingResponse</code> or a <code>NFCErrorDomain</code> error when the operation is completed. Valid <code>requestData</code> is return when <code>requestCode</code> is a non-zero parameter and feature is supported by the tag. The <code>currentIDm</code> property will be updated on each execution, except when an invalid <code>systemCode</code> is provided and the existing selected system will stay selected.</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="felicatag.polling(systemcode:requestcode:timeslot:completionhandler:)">
    <h3>
        <code>polling(system​Code:​request​Code:​time​Slot:​completion​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(*, <span class="variable">unavailable</span>, <span class="variable">message</span>: <span class="string literal">&quot;Use the one using resultHander.&quot;</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">polling</span>(<span class="variable">systemCode</span>: <span class="type">Data</span>, <span class="variable">requestCode</span>: <span class="type">FeliCaPollingRequestCode</span>, <span class="variable">timeSlot</span>: <span class="type">FeliCaPollingTimeSlot</span>, <span class="variable">completionHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Data</span>, <span class="type">Data</span>, <span class="type">Error</span>?) -&gt; <span class="type">Void</span>) </code></pre>
</div>
</div>
<div role="article" class="function" id="felicatag.readwithoutencryption(servicecodelist:blocklist:resulthandler:)">
    <h3>
        <code>read​Without​Encryption(service​Code​List:​block​List:​result​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(<span class="keyword">iOS</span> <span class="number literal">13.0</span>, *) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">watchOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">tvOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macCatalyst</span>, <span class="variable">unavailable</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">readWithoutEncryption</span>(<span class="variable">serviceCodeList</span>: [<span class="type">Data</span>], <span class="variable">blockList</span>: [<span class="type">Data</span>], <span class="variable">resultHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Result</span>&lt;(<span class="type">FeliCaStatusFlag</span>, [<span class="type">Data</span>]), <span class="type">Error</span>&gt;) -&gt; <span class="type">Void</span>) </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Sends the Read Without Encryption command, as defined by the FeliCa card specification, to the tag.</p>

</div>
<div class="discussion">
    <p>Read Without Encrypton command defined by FeliCa card specification. Refer to the FeliCa specification for details.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>service​Code​List</th>
    <td><code class="type">[Data]</code></td>
    <td><p>Service Code list represented in an array of Data objects. Number of nodes specified should be between 1 to 16 inclusive. Each service code should be 2 bytes stored in Little Endian format.</p>
</td>
</tr>
<tr>
    <th>block​List</th>
    <td><code class="type">[Data]</code></td>
    <td><p>Block List represent in an array of Data objects. 2-Byte or 3-Byte block list element is supported.</p>
</td>
</tr>
<tr>
    <th>result​Handler</th>
    <td><code class="type">@escaping (Result&lt;(Feli​CaStatus​Flag, [Data]), Error&gt;) -&gt; Void</code></td>
    <td><p>Completion handler called when the operation is completed. Valid read data blocks (block length of 16 bytes) are returned in an array of Data objects when Status Flag 1 equals zero.</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="felicatag.readwithoutencryption(servicecodelist:blocklist:completionhandler:)">
    <h3>
        <code>read​Without​Encryption(service​Code​List:​block​List:​completion​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(*, <span class="variable">unavailable</span>, <span class="variable">message</span>: <span class="string literal">&quot;Use the one using resultHander.&quot;</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">readWithoutEncryption</span>(<span class="variable">serviceCodeList</span>: [<span class="type">Data</span>], <span class="variable">blockList</span>: [<span class="type">Data</span>], <span class="variable">completionHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Int</span>, <span class="type">Int</span>, [<span class="type">Data</span>], <span class="type">Error</span>?) -&gt; <span class="type">Void</span>) </code></pre>
</div>
</div>
<div role="article" class="function" id="felicatag.writewithoutencryption(servicecodelist:blocklist:blockdata:resulthandler:)">
    <h3>
        <code>write​Without​Encryption(service​Code​List:​block​List:​block​Data:​result​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(<span class="keyword">iOS</span> <span class="number literal">13.0</span>, *) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">watchOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">tvOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macCatalyst</span>, <span class="variable">unavailable</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">writeWithoutEncryption</span>(<span class="variable">serviceCodeList</span>: [<span class="type">Data</span>], <span class="variable">blockList</span>: [<span class="type">Data</span>], <span class="variable">blockData</span>: [<span class="type">Data</span>], <span class="variable">resultHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Result</span>&lt;<span class="type">FeliCaStatusFlag</span>, <span class="type">Error</span>&gt;) -&gt; <span class="type">Void</span>) </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Sends the Write Without Encryption command, as defined by the FeliCa card specification, to the tag.</p>

</div>
<div class="discussion">
    <p>Write Without Encrypton command defined by FeliCa card specification. Refer to the FeliCa specification for details.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>service​Code​List</th>
    <td><code class="type">[Data]</code></td>
    <td><p>Service Code list represented in an array of Data objects. Number of nodes specified should be between 1 to 16 inclusive. Each service code should be 2 bytes stored in Little Endian format.</p>
</td>
</tr>
<tr>
    <th>block​List</th>
    <td><code class="type">[Data]</code></td>
    <td><p>Block List represent in an array of Data objects. Total blockList items and blockData items should match. 2-Byte or 3-Byte block list element is supported.</p>
</td>
</tr>
<tr>
    <th>block​Data</th>
    <td><code class="type">[Data]</code></td>
    <td><p>Block data represent in an array of Data objects. Total blockList items and blockData items should match. Data block should be 16 bytes in length.</p>
</td>
</tr>
<tr>
    <th>result​Handler</th>
    <td><code class="type">@escaping (Result&lt;Feli​CaStatus​Flag, Error&gt;) -&gt; Void</code></td>
    <td><p>Returns <code>NFCFeliCaStatusFlag</code> or a <code>NFCErrorDomain</code> error when operation is completed.</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="felicatag.writewithoutencryption(servicecodelist:blocklist:blockdata:completionhandler:)">
    <h3>
        <code>write​Without​Encryption(service​Code​List:​block​List:​block​Data:​completion​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(*, <span class="variable">unavailable</span>, <span class="variable">message</span>: <span class="string literal">&quot;Use the one using resultHander.&quot;</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">writeWithoutEncryption</span>(<span class="variable">serviceCodeList</span>: [<span class="type">Data</span>], <span class="variable">blockList</span>: [<span class="type">Data</span>], <span class="variable">blockData</span>: [<span class="type">Data</span>], <span class="variable">completionHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Int</span>, <span class="type">Int</span>, <span class="type">Error</span>?) -&gt; <span class="type">Void</span>) </code></pre>
</div>
</div>
<div role="article" class="function" id="felicatag.requestresponse(resulthandler:)">
    <h3>
        <code>request​Response(result​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(<span class="keyword">iOS</span> <span class="number literal">13.0</span>, *) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">watchOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">tvOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macCatalyst</span>, <span class="variable">unavailable</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">requestResponse</span>(<span class="variable">resultHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Result</span>&lt;<span class="type">Int</span>, <span class="type">Error</span>&gt;) -&gt; <span class="type">Void</span>) </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Sends the Request Response command, as defined by the FeliCa card specification, to the tag.</p>

</div>
<div class="discussion">
    <p>Request Response command defined by FeliCa card specification. Refer to the FeliCa specification for details.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>result​Handler</th>
    <td><code class="type">@escaping (Result&lt;Int, Error&gt;) -&gt; Void</code></td>
    <td><p>Returns the mode as Int or a <code>NFCErrorDomain</code> error when the operation is completed. Valid mode value ranges from 0 to 3 inclusively.</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="felicatag.requestresponse(completionhandler:)">
    <h3>
        <code>request​Response(completion​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(*, <span class="variable">unavailable</span>, <span class="variable">message</span>: <span class="string literal">&quot;Use the one using resultHander.&quot;</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">requestResponse</span>(<span class="variable">completionHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Int</span>, <span class="type">Error</span>?) -&gt; <span class="type">Void</span>) </code></pre>
</div>
</div>
<div role="article" class="function" id="felicatag.requestservice(nodecodelist:resulthandler:)">
    <h3>
        <code>request​Service(node​Code​List:​result​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(<span class="keyword">iOS</span> <span class="number literal">13.0</span>, *) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">watchOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">tvOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macCatalyst</span>, <span class="variable">unavailable</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">requestService</span>(<span class="variable">nodeCodeList</span>: [<span class="type">Data</span>], <span class="variable">resultHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Result</span>&lt;[<span class="type">Data</span>], <span class="type">Error</span>&gt;) -&gt; <span class="type">Void</span>) </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Sends the Request Service command, as defined by the FeliCa card specification, to the tag.</p>

</div>
<div class="discussion">
    <p>Request Service command defined by FeliCa card specification. Refer to the FeliCa specification for details.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>node​Code​List</th>
    <td><code class="type">[Data]</code></td>
    <td><p>Node Code list represented in an array of Data objects. Number of nodes specified should be between 1 to 32 inclusive. Each node code should be 2 bytes stored in Little Endian format.</p>
</td>
</tr>
<tr>
    <th>result​Handler</th>
    <td><code class="type">@escaping (Result&lt;[Data], Error&gt;) -&gt; Void</code></td>
    <td><p>Completion handler called when the operation is completed. Node key version list is returned as an array of Data objects, and each data object is stored in Little Endian format per FeliCa specification.</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="felicatag.requestservice(nodecodelist:completionhandler:)">
    <h3>
        <code>request​Service(node​Code​List:​completion​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(*, <span class="variable">unavailable</span>, <span class="variable">message</span>: <span class="string literal">&quot;Use the one using resultHander.&quot;</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">requestService</span>(<span class="variable">nodeCodeList</span>: [<span class="type">Data</span>], <span class="variable">completionHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> ([<span class="type">Data</span>], <span class="type">Error</span>?) -&gt; <span class="type">Void</span>) </code></pre>
</div>
</div>
<div role="article" class="function" id="felicatag.requestservicev2(nodecodelist:resulthandler:)">
    <h3>
        <code>request​Service​V2(node​Code​List:​result​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(<span class="keyword">iOS</span> <span class="number literal">13.0</span>, *) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">watchOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">tvOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macCatalyst</span>, <span class="variable">unavailable</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">requestServiceV2</span>(<span class="variable">nodeCodeList</span>: [<span class="type">Data</span>], <span class="variable">resultHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Result</span>&lt;<span class="type">FeliCaRequsetServiceV2Response</span>, <span class="type">Error</span>&gt;) -&gt; <span class="type">Void</span>) </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Sends the Request Service V2 command, as defined by the FeliCa card specification, to the tag.</p>

</div>
<div class="discussion">
    <p>Request Service V2 command defined by FeliCa card specification. Refer to the FeliCa specification for details.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>node​Code​List</th>
    <td><code class="type">[Data]</code></td>
    <td><p>Node Code list represent in an array of Data. Number of nodes specified should be between 1 to 32 inclusive. Each node code should be 2 bytes stored in Little Endian format.</p>
</td>
</tr>
<tr>
    <th>result​Handler</th>
    <td><code class="type">@escaping (Result&lt;Feli​CaRequset​Service​V2Response, Error&gt;) -&gt; Void</code></td>
    <td><p>Completion handler called when the operation is completed. <code>encryptionIdentifier</code> value shall be ignored if Status Flag 1 value indicates an error. <code>nodeKeyVerionListAES</code> and <code>nodeKeyVersionListDES</code> may be nil depending on the Status Flag 1 value and the Encryption Identifier value. The 2 bytes node key version (AES and DES) is in Little Endian format.</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="felicatag.requestservicev2(nodecodelist:completionhandler:)">
    <h3>
        <code>request​Service​V2(node​Code​List:​completion​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(*, <span class="variable">unavailable</span>, <span class="variable">message</span>: <span class="string literal">&quot;Use the one using resultHander.&quot;</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">requestServiceV2</span>(<span class="variable">nodeCodeList</span>: [<span class="type">Data</span>], <span class="variable">completionHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Int</span>, <span class="type">Int</span>, <span class="type">FeliCaEncryptionId</span>, [<span class="type">Data</span>], [<span class="type">Data</span>], <span class="type">Error</span>?) -&gt; <span class="type">Void</span>) </code></pre>
</div>
</div>
<div role="article" class="function" id="felicatag.requestspecificationversion(resulthandler:)">
    <h3>
        <code>request​Specification​Version(result​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(<span class="keyword">iOS</span> <span class="number literal">13.0</span>, *) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">watchOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">tvOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macCatalyst</span>, <span class="variable">unavailable</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">requestSpecificationVersion</span>(<span class="variable">resultHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Result</span>&lt;<span class="type">FeliCaRequestSpecificationVersionResponse</span>, <span class="type">Error</span>&gt;) -&gt; <span class="type">Void</span>) </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Sends the Request Specification Version command, as defined by the FeliCa card specification, to the tag.</p>

</div>
<div class="discussion">
    <p>Request Specification Verison command defined by FeliCa card specification. This command supports response format version <code>00</code>h. Refer to the FeliCa specification for details.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>result​Handler</th>
    <td><code class="type">@escaping (Result&lt;Feli​CaRequest​Specification​Version​Response, Error&gt;) -&gt; Void</code></td>
    <td><p>Returns <code>NFCFeliCaRequestSpecificationVersionResponse</code> or a <code>NFCErrorDomain</code> error when the operation is completed. <code>basicVersion</code> and <code>optionVersion</code> may be nil depending on the Status Flag 1 value and if the tag supports AES/DES.</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="felicatag.requestspecificationversion(completionhandler:)">
    <h3>
        <code>request​Specification​Version(completion​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(*, <span class="variable">unavailable</span>, <span class="variable">message</span>: <span class="string literal">&quot;Use the one using resultHander.&quot;</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">requestSpecificationVersion</span>(<span class="variable">completionHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Int</span>, <span class="type">Int</span>, <span class="type">Data</span>, <span class="type">Data</span>, <span class="type">Error</span>?) -&gt; <span class="type">Void</span>) </code></pre>
</div>
</div>
<div role="article" class="function" id="felicatag.requestsystemcode(resulthandler:)">
    <h3>
        <code>request​System​Code(result​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(<span class="keyword">iOS</span> <span class="number literal">13.0</span>, *) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">watchOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">tvOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macCatalyst</span>, <span class="variable">unavailable</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">requestSystemCode</span>(<span class="variable">resultHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Result</span>&lt;[<span class="type">Data</span>], <span class="type">Error</span>&gt;) -&gt; <span class="type">Void</span>) </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Sends the Request System Code command, as defined by the FeliCa card specification, to the tag.</p>

</div>
<div class="discussion">
    <p>Request System Code command defined by FeliCa card specification. Refer to the FeliCa specification for details.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>result​Handler</th>
    <td><code class="type">@escaping (Result&lt;[Data], Error&gt;) -&gt; Void</code></td>
    <td><p>Returns an array of system code as Data or a <code>NFCErrorDomain</code> error when the operation is completed. Each system code is 2 bytes stored in Little Endian format.</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="felicatag.requestsystemcode(completionhandler:)">
    <h3>
        <code>request​System​Code(completion​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(*, <span class="variable">unavailable</span>, <span class="variable">message</span>: <span class="string literal">&quot;Use the one using resultHander.&quot;</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">requestSystemCode</span>(<span class="variable">completionHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> ([<span class="type">Data</span>], <span class="type">Error</span>?) -&gt; <span class="type">Void</span>) </code></pre>
</div>
</div>
<div role="article" class="function" id="felicatag.resetmode(resulthandler:)">
    <h3>
        <code>reset​Mode(result​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(<span class="keyword">iOS</span> <span class="number literal">13.0</span>, *) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">watchOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">tvOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macCatalyst</span>, <span class="variable">unavailable</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">resetMode</span>(<span class="variable">resultHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Result</span>&lt;<span class="type">FeliCaStatusFlag</span>, <span class="type">Error</span>&gt;) -&gt; <span class="type">Void</span>) </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Sends the Reset Mode command, as defined by the FeliCa card specification, to the tag.</p>

</div>
<div class="discussion">
    <p>Reset Mode command defined by FeliCa card specification. Refer to the FeliCa specification for details.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>result​Handler</th>
    <td><code class="type">@escaping (Result&lt;Feli​CaStatus​Flag, Error&gt;) -&gt; Void</code></td>
    <td><p>Returns <code>NFCFeliCaStatusFlag</code> or a <code>NFCErrorDomain</code> error when the operation is completed.</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="felicatag.resetmode(completionhandler:)">
    <h3>
        <code>reset​Mode(completion​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(*, <span class="variable">unavailable</span>, <span class="variable">message</span>: <span class="string literal">&quot;Use the one using resultHander.&quot;</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">resetMode</span>(<span class="variable">completionHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Int</span>, <span class="type">Int</span>, <span class="type">Error</span>?) -&gt; <span class="type">Void</span>) </code></pre>
</div>
</div>
<div role="article" class="function" id="felicatag.sendfelicacommand(commandpacket:resulthandler:)">
    <h3>
        <code>send​Feli​CaCommand(command​Packet:​result​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(<span class="keyword">iOS</span> <span class="number literal">13.0</span>, *) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">watchOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">tvOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macOS</span>, <span class="variable">unavailable</span>) <span class="attribute">@</span><span class="attribute">available</span>(<span class="variable">macCatalyst</span>, <span class="variable">unavailable</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">sendFeliCaCommand</span>(<span class="variable">commandPacket</span>: <span class="type">Data</span>, <span class="variable">resultHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Result</span>&lt;<span class="type">Data</span>, <span class="type">Error</span>&gt;) -&gt; <span class="type">Void</span>) </code></pre>
</div>
<div class="summary" role="doc-abstract">
    <p>Sends the FeliCa command packet data to the tag.</p>

</div>
<div class="discussion">
    <p>Transmission of FeliCa Command Packet Data at the applicaiton layer. Refer to the FeliCa specification for details. Manufacturer ID (IDm) of the currently selected system can be read from the currentIDm property.</p>

</div>
<h4>Parameters</h4>

<table class="parameters">
  <thead hidden>
  <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
  </tr>
  </thead>
  <tbody>
    <tr>
    <th>command​Packet</th>
    <td><code class="type">Data</code></td>
    <td><p>Command packet send to the FeliCa card. Maximum packet length is 254. Data length (LEN) byte and CRC bytes are calculated and inserted automatically to the provided packet data frame.</p>
</td>
</tr>
<tr>
    <th>result​Handler</th>
    <td><code class="type">@escaping (Result&lt;Data, Error&gt;) -&gt; Void</code></td>
    <td><p>Completion handler called when the operation is completed. A <code>NFCErrorDomain</code> error is returned when there is a communication issue with the tag.</p>
</td>
</tr>
  </tbody>
</table>
</div>
<div role="article" class="function" id="felicatag.sendfelicacommand(commandpacket:completionhandler:)">
    <h3>
        <code>send​Feli​CaCommand(command​Packet:​completion​Handler:​)</code>
    </h3>
    <div class="declaration">
<pre class="highlight"><code><span class="attribute">@</span><span class="attribute">available</span>(*, <span class="variable">unavailable</span>, <span class="variable">message</span>: <span class="string literal">&quot;Use the one using resultHander.&quot;</span>)
    <span class="keyword">public</span> <span class="keyword">func</span> <span class="function">sendFeliCaCommand</span>(<span class="variable">commandPacket</span>: <span class="type">Data</span>, <span class="variable">completionHandler</span>: <span class="attribute">@</span><span class="attribute">escaping</span> (<span class="type">Data</span>, <span class="type">Error</span>?) -&gt; <span class="type">Void</span>) </code></pre>
</div>
</div>
    </section>



        </article>
    </main>

    <footer>
        <p>
    Generated on <time datetime="2021-05-16T18:08:35+0000">May 16, 2021</time> using <a href="https://github.com/SwiftDocOrg/swift-doc">swift-doc</a> <span class="version">1.0.0-beta.6</span>.
</p>
    </footer>
</body>
</html>
